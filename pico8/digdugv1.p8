pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
--dig-dug simple digging demo
function _init()
--fill the map with dirt tiles (1)
 for y=0,15 do
 for x=0,15 do
  mset(x,y,1)
 end
end

--player start position (tile coordinates)
 px=7
 py=7
-- put initial tunnel where player starts
 mset(px, py, 2)
end

function _update()
 local moved = false
 if btnp(0) 
 	then px-=1 moved=true 
 end -- left
 if btnp(1) 
 	then px+=1 moved=true 
 end -- right
 if btnp(2) 
 	then py-=1 moved=true 
 end -- up
 if btnp(3) 
 	then py+=1 moved=true 
 end -- down

-- bounds check
	if px<0 then 
		px=0 
	end
 if px>15 then 
 	px=15 
 end
 if py<0 then
 	py=0 
 end
 if py>15 then
 	py=15 
 end

-- when moved, dig (change tile to tunnel)
 if moved then
  mset(px, py, 2)
 end
end

function _draw()
 cls()
 map(0,0)

-- draw player as a simple sprite (e.g., sprite #16)
 spr(3, px*8, py*8)
end

__gfx__
00000000633533335555555500fffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333353335555575500f1f1f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700333336365655555500fffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000353333335555655500fffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000333333355755555500888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700633533335555555500888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333633535556557500020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000353333335555555500220220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
